Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,a=new Array(n);n--;)a[n]=[t[n],e[t[n]]];return a}),Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t]);return n});var pEventData=new WeakMap;function ped(e){var t=pEventData.get(e);if(null==t)throw new Error("'this' is expected an Event object, but got "+e);return t}var GaiaXJSEvent=function(){function e(e){pEventData.set(this,e)}return Object.defineProperty(e.prototype,"templateId",{get:function(){return ped(this).templateId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){return ped(this).instanceId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return ped(this).type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeStamp",{get:function(){return ped(this).timeStamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetId",{get:function(){return ped(this).targetId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetType",{get:function(){return ped(this).targetType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetSubType",{get:function(){return ped(this).targetSubType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return ped(this).offsetX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return ped(this).offsetY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return ped(this).userData},enumerable:!1,configurable:!0}),e}(),listenersMap=new WeakMap;function getListeners(e){var t=listenersMap.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}var GaiaXJSEventTarget=function(){function e(e){for(var t in e)if(Object.hasOwnProperty.call(e,t)){var n=e[t];this["__".concat(t,"__")]=n}this.__style__=new Style(e),listenersMap.set(this,new Map)}return Object.defineProperty(e.prototype,"style",{get:function(){return this.__style__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetId",{get:function(){return this.__targetId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetType",{get:function(){return this.__targetType__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetSubType",{get:function(){return this.__targetSubType__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this.__templateId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){return this.__instanceId__},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,t,n){var a=getListeners(this);null!=a.get(e)&&a.delete(e),NativeEvent.addEventListener({templateId:this.templateId,targetId:this.targetId,instanceId:this.instanceId,eventType:e,option:n}).then((function(){var n={listener:t,next:null};a.set(e,n)}))},e.prototype.removeEventListener=function(e,t){var n=this;NativeEvent.removeEventListener({templateId:this.templateId,targetId:this.targetId,instanceId:this.instanceId,eventType:e}).then((function(){getListeners(n).delete(e)}))},e.prototype.dispatchEvent=function(e){var t=getListeners(this),n=e.type,a=t.get(n);if(null==a)return!0;"function"==typeof a.listener&&a.listener.call(this,e)},e}(),cListenersMap=new WeakMap;function getCListeners(e){var t=cListenersMap.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}var nativeListenersMap=new WeakMap;function getNativeListeners(e){var t=nativeListenersMap.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}var __Component__=function(){function e(e,t){if(this.__state__=e.state||{},this.__onReady__=e.onReady,this.__onShow__=e.onShow,this.__onHide__=e.onHide,this.__onDestroy__=e.onDestroy,this.__onReuse__=e.onReuse,this.__onLoadMore__=e.onLoadMore,this.__onScroll__=e.onScroll,this.__onScrollStart__=e.onScrollStart,this.__onScrollEnd__=e.onScrollEnd,this.__bizId__=t&&t.bizId,this.__templateId__=t&&t.templateId,this.__templateVersion__=t&&t.templateVersion||"-1",this.__instanceId__=t&&t.instanceId||0,e)for(var n in e){var a=e[n];"state"!=n&&"onReady"!=n&&"onShow"!=n&&"onHide"!=n&&"onDestroy"!=n&&"onReuse"!=n&&"onLoadMore"!=n&&"onScroll"!=n&&"onScrollStart"!=n&&"onScrollEnd"!=n&&(this[n]=a)}this.targets={},cListenersMap.set(this,new Map),nativeListenersMap.set(this,new Map)}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this.__templateId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateVersion",{get:function(){return this.__templateVersion__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return gaiax.getComponentIndex({templateId:this.templateId,instanceId:this.instanceId})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){return this.__instanceId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bizId",{get:function(){return this.__bizId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.__state__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return gaiax.getData({templateId:this.templateId,instanceId:this.instanceId})},enumerable:!1,configurable:!0}),e.prototype.setData=function(e,t){gaiax.setData(e,{templateId:this.templateId,instanceId:this.instanceId},(function(){t&&t()}))},e.prototype.setState=function(e,t){if("object"==typeof e){var n=Object.assign(this.__state__,e||{})||{};this.__state__=n,setTimeout((function(){t&&t()}),0)}},e.prototype.onReuse=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onReuse")),this.__onReuse__&&this.__onReuse__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onReady=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onReady")),this.__onReady__&&this.__onReady__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onShow=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onShow")),this.__onShow__&&this.__onShow__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onHide=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onHide")),this.__onHide__&&this.__onHide__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onDestroy=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onDestroy")),this.__onDestroy__&&this.__onDestroy__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onLoadMore=function(e){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onLoadMore")),this.__onLoadMore__&&this.__onLoadMore__.call(this,e)}catch(t){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:t.message,stack:t.stack})}},e.prototype.onScroll=function(e){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onScroll")),this.__onScroll__&&this.__onScroll__.call(this,e)}catch(t){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:t.message,stack:t.stack})}},e.prototype.onScrollStart=function(e){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onScrollStart")),this.__onScrollStart__&&this.__onScrollStart__.call(this,e)}catch(t){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:t.message,stack:t.stack})}},e.prototype.onScrollEnd=function(e){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId=".concat(this.instanceId,", bizId=").concat(this.bizId,", templateId=").concat(this.templateId,", templateVersion=").concat(this.templateVersion," onScrollEnd")),this.__onScrollEnd__&&this.__onScrollEnd__.call(this,e)}catch(t){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:t.message,stack:t.stack})}},e.prototype.getElementById=function(e){var t,n=NativeTarget.getElementByData({templateId:this.templateId,instanceId:this.instanceId,targetId:e});return null!=n&&(null==this.targets["".concat(this.instanceId,"_").concat(e)]?(t=new GaiaXJSEventTarget({templateId:this.templateId,instanceId:this.instanceId,targetId:e,targetType:n.targetType,targetSubType:n.targetSubType}),this.targets["".concat(this.instanceId,"_").concat(e)]=t):t=this.targets["".concat(this.instanceId,"_").concat(e)]),t},e.prototype.dispatchEvent=function(e){if(null!=e)if(e.targetId){var t=e.targetId;e.targetId&&this.targets["".concat(this.instanceId,"_").concat(t)]instanceof GaiaXJSEventTarget&&this.targets["".concat(this.instanceId,"_").concat(t)].dispatchEvent(e)}else{var n=getCListeners(this),a=e.type,i=n.get(a);if(null==i)return!0;"function"==typeof i.listener&&i.listener.call(this,e)}},e.prototype.addEventListener=function(e,t,n){var a=getCListeners(this);null!=a.get(e)&&a.delete(e);var i={listener:t,next:null};a.set(e,i)},e.prototype.removeEventListener=function(e,t){getCListeners(this).delete(e)},e.prototype.refreshPage=function(e){OneArch.refresh({templateId:this.templateId,instanceId:this.instanceId,type:"page",params:e})},e.prototype.refreshCard=function(e){OneArch.refresh({templateId:this.templateId,instanceId:this.instanceId,type:"card",params:e})},e.prototype.refreshComponent=function(e){OneArch.refresh({templateId:this.templateId,instanceId:this.instanceId,type:"component",params:e})},e.prototype.scrollTo=function(e){OneArch.scrollTo({templateId:this.templateId,instanceId:this.instanceId,params:e})},e.prototype.dispatchNativeEvent=function(e){if(null!=e){var t=getNativeListeners(this),n=e.type,a=t.get(n);if(null==a)return!0;"function"==typeof a.listener&&a.listener.call(this,e)}},e.prototype.addNativeEventListener=function(e,t){if(NativeEvent.addNativeEventListener({templateId:this.templateId,instanceId:this.instanceId,contextId:__globalThis.__CONTEXT_ID__,type:e})){var n=getNativeListeners(this);null!=n.get(e)&&n.delete(e);var a={listener:t,next:null};n.set(e,a)}},e.prototype.removeNativeEventListener=function(e){NativeEvent.removeNativeEventListener({templateId:this.templateId,instanceId:this.instanceId,contextId:__globalThis.__CONTEXT_ID__,type:e})&&getNativeListeners(this).delete(e)},e}();function Component(e,t){e&&t&&"object"==typeof e&&"object"==typeof t&&IMs.insertComponent(new __Component__(e,t))}var GaiaXJSWindow=function(){function e(){}return e.prototype.dispatchEventInternal=function(e){var t=new GaiaXJSEvent(e);IMs.dispatchEvent(t)},e.prototype.postMessage=function(e,t){"string"==typeof e?this.dispatchEventInternal(Object.assign({type:e||""},{userData:t})):this.dispatchEventInternal(e)},e.prototype.postNativeMessage=function(e){var t=new GaiaXJSEvent(e);IMs.dispatchNativeEvent(t)},e}();1!=__globalThis.__ENGINE_TYPE__&&10!=__globalThis.__ENGINE_TYPE__||(__globalThis.__successCallbacks=new Map,__globalThis.__failureCallbacks=new Map,__globalThis.__callbackId=0,__globalThis.__processCallbacks=function(e,t){return __globalThis.__successCallbacks.set(__globalThis.__callbackId,e),__globalThis.__failureCallbacks.set(__globalThis.__callbackId,t),__globalThis.__callbackId++});var Bridge=function(){function e(){}return e.callSync=function(e){if(null!=e&&e instanceof Object)return 1==__globalThis.__ENGINE_TYPE__||10==__globalThis.__ENGINE_TYPE__?GaiaXJSBridge.callSync(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__})):GaiaXJSBridge.callSync(JSON.stringify(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__})))},e.callAsync=function(e,t){if(null!=e&&e instanceof Object)if(1==__globalThis.__ENGINE_TYPE__||10==__globalThis.__ENGINE_TYPE__){var n=__globalThis.__processCallbacks&&__globalThis.__processCallbacks(t);GaiaXJSBridge.callAsync(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__,callbackId:n}))}else GaiaXJSBridge.callAsync(JSON.stringify(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__})),(function(e){t&&t(e)}))},e.callPromise=function(e){return new Promise((function(t,n){if(null!=e&&e instanceof Object)if(1==__globalThis.__ENGINE_TYPE__||10==__globalThis.__ENGINE_TYPE__){var a=__globalThis.__processCallbacks&&__globalThis.__processCallbacks(t,n);GaiaXJSBridge.callPromise(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__,callbackId:a}))}else GaiaXJSBridge.callPromise(JSON.stringify(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__}))).then((function(e){t(e)})).catch((function(e){n(e)}));else n(new Error("arguments is not valid"))}))},e.invokeCallback=function(e,t){if((1==__globalThis.__ENGINE_TYPE__||10==__globalThis.__ENGINE_TYPE__)&&null!=e){var n=__globalThis.__successCallbacks.get(e);n&&(n(t),__globalThis.__successCallbacks.delete(e),__globalThis.__failureCallbacks.delete(e))}},e.invokePromiseSuccess=function(e,t){if((1==__globalThis.__ENGINE_TYPE__||10==__globalThis.__ENGINE_TYPE__)&&null!=e){var n=__globalThis.__successCallbacks.get(e);n&&(n(t),__globalThis.__successCallbacks.delete(e),__globalThis.__failureCallbacks.delete(e))}},e.invokePromiseFailure=function(e,t){if((1==__globalThis.__ENGINE_TYPE__||10==__globalThis.__ENGINE_TYPE__)&&null!=e){var n=__globalThis.__failureCallbacks.get(e);n&&(n(t),__globalThis.__successCallbacks.delete(e),__globalThis.__failureCallbacks.delete(e))}},e}(),InstancesManager=function(){function e(){this.instanceMaps={}}return e.prototype.getAllComponents=function(){return Object.values(this.instanceMaps)},e.prototype.insertComponent=function(e){this.instanceMaps[e.instanceId]=e},e.prototype.getComponent=function(e){return this.instanceMaps[e]},e.prototype.removeComponent=function(e){delete this.instanceMaps[e]},e.prototype.dispatchNativeEvent=function(e){var t=IMs.getComponent(e.instanceId);try{t&&t.dispatchNativeEvent(e)}catch(n){console.error({templateId:t.templateId,templateVersion:t.templateVersion,bizId:t.bizId,message:n.message,stack:n.stack})}},e.prototype.dispatchEvent=function(e){if(e&&e instanceof GaiaXJSEvent)if(null!=e.instanceId&&null!=e.templateId){var t=IMs.getComponent(e.instanceId);try{t&&t.dispatchEvent(e)}catch(i){console.error({templateId:t.templateId,templateVersion:t.templateVersion,bizId:t.bizId,message:i.message,stack:i.stack})}}else{var n=IMs.getAllComponents();if(n)for(var a=0;a<n.length;a++){t=n[a];try{t&&t.dispatchEvent(e)}catch(i){console.error({templateId:t.templateId,templateVersion:t.templateVersion,bizId:t.bizId,message:i.message,stack:i.stack})}}}},e}(),__Console=function(){function e(){}return e.info=function(e){NativeLogger.info({data:e})},e.log=function(e){NativeLogger.log({data:e})},e.warn=function(e){NativeLogger.warn({data:e})},e.error=function(e){NativeLogger.error({data:e})},e}(),__Utils=function(){function e(){}return e.isNonNullObject=function(e){return!!e&&"object"==typeof e},e.isSpecial=function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t},e.isMergeableObject=function(t){return e.isNonNullObject(t)&&!e.isSpecial(t)},e.emptyTarget=function(e){return Array.isArray(e)?[]:{}},e.cloneUnlessOtherwiseSpecified=function(t,n){return!1!==n.clone&&n.isMergeableObject(t)?e.merge(e.emptyTarget(t),t,n):t},e.defaultArrayMerge=function(t,n,a){return t.concat(n).map((function(t){return e.cloneUnlessOtherwiseSpecified(t,a)}))},e.getMergeFunction=function(t,n){if(!n.customMerge)return e.merge;var a=n.customMerge(t);return"function"==typeof a?a:e.merge},e.getEnumerableOwnPropertySymbols=function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]},e.getKeys=function(t){return Object.keys(t).concat(e.getEnumerableOwnPropertySymbols(t))},e.propertyIsOnObject=function(e,t){try{return t in e}catch(n){return!1}},e.propertyIsUnsafe=function(t,n){return e.propertyIsOnObject(t,n)&&!(Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n))},e.mergeObject=function(t,n,a){var i={};return a.isMergeableObject(t)&&e.getKeys(t).forEach((function(n){i[n]=e.cloneUnlessOtherwiseSpecified(t[n],a)})),e.getKeys(n).forEach((function(o){e.propertyIsUnsafe(t,o)||(e.propertyIsOnObject(t,o)&&a.isMergeableObject(n[o])?i[o]=e.getMergeFunction(o,a)(t[o],n[o],a):i[o]=e.cloneUnlessOtherwiseSpecified(n[o],a))})),i},e.merge=function(t,n,a){(a=a||{}).arrayMerge=a.arrayMerge||e.defaultArrayMerge,a.isMergeableObject=a.isMergeableObject||e.isMergeableObject,a.cloneUnlessOtherwiseSpecified=e.cloneUnlessOtherwiseSpecified;var i=Array.isArray(n);return i===Array.isArray(t)?i?a.arrayMerge(t,n,a):e.mergeObject(t,n,a):e.cloneUnlessOtherwiseSpecified(n,a)},e.mergeAll=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,a){return e.merge(t,a,n)}),{})},e.md5=function(e){if(e)return NativeUtil.md5(e)},e.urlEncode=function(e){if(e)return NativeUtil.urlEncode(e)},e.urlDecode=function(e){if(e)return NativeUtil.urlDecode(e)},e.base64Encode=function(e){if(e)return NativeUtil.base64Encode(e)},e.base64Decode=function(e){if(e)return NativeUtil.base64Decode(e)},e}();__globalThis.__VERSION__=1,__globalThis.Event=GaiaXJSEvent,__globalThis.EventTarget=GaiaXJSEventTarget,__globalThis.Component=Component,10!=__globalThis.__ENGINE_TYPE__&&(__globalThis.console=__Console),__globalThis.IMs=new InstancesManager,__globalThis.window=new GaiaXJSWindow,__globalThis.Utils=__Utils;